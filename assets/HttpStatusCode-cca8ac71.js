import{createRouter as u}from"radix3";import{onCleanup as p}from"solid-js";import{isServer as c,getRequestEvent as h}from"solid-js/web";const a=[{$component:{src:"src/routes/[...404].jsx?pick=default&pick=$css",build:()=>import("../_...404_.js"),import:()=>import("../_...404_.js")},path:"/*404",filePath:"/home/runner/work/ss_author_site/ss_author_site/src/routes/[...404].jsx"},{$component:{src:"src/routes/about.jsx?pick=default&pick=$css",build:()=>import("../about.js"),import:()=>import("../about.js")},path:"/about",filePath:"/home/runner/work/ss_author_site/ss_author_site/src/routes/about.jsx"},{$component:{src:"src/routes/index.jsx?pick=default&pick=$css",build:()=>import("../index.js"),import:()=>import("../index.js")},path:"/",filePath:"/home/runner/work/ss_author_site/ss_author_site/src/routes/index.jsx"}],k=l(a.filter(t=>t.$component));function l(t){function r(e,s,n,m){const o=Object.values(e).find(i=>n.startsWith(i.id+"/"));return o?(r(o.children||(o.children=[]),s,n.slice(o.id.length)),e):(e.push({...s,id:n,path:n.replace(/\/\([^)/]+\)/g,"")}),e)}return t.sort((e,s)=>e.path.length-s.path.length).reduce((e,s)=>r(e,s,s.path,s.path),[])}function P(t,r){const e=d.lookup(t);if(e){const s=e.route[`$${r}`];return s===void 0?void 0:{handler:s,params:e.params}}}function f(t){return t.$GET||t.$POST||t.$PUT||t.$PATCH||t.$DELETE}const d=u({routes:a.reduce((t,r)=>{if(!f(r))return t;let e=r.path.replace(/\(.*\)\/?/g,"").replace(/\*([^/]*)/g,(s,n)=>`**:${n}`);if(/:[^/]*\?/g.test(e))throw new Error(`Optional parameters are not supported in API routes: ${e}`);if(t[e])throw new Error(`Duplicate API routes for "${e}" found at "${t[e].route.path}" and "${r.path}"`);return t[e]={route:r},t},{})});function g(t){if(c){const r=h();r.response.status=t.code,r.response.statusText=t.text,p(()=>!r.nativeEvent.handled&&(r.response.status=200))}return null}export{g as H,P as m,k as p};
